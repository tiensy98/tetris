<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="Description" content="Enter your description here" />

    <link rel="stylesheet" href="./css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css"
    />
    <title>Title</title>
  </head>
  <body>
    <div class="main">
      <div class="main__game">
        <canvas id="game" width="400" height="800"></canvas>
      </div>
      <div class="main__sub">
        <canvas id="ready" width="160" height="160"></canvas>
      </div>
    </div>

    <script src="./js/const.js"></script>
    <script src="./js/clear.js"></script>
    <script src="./js/gameover.js"></script>
    <script src="./js/random.js"></script>
    <script src="./js/setcolor.js"></script>
    <script src="./js/draw.js"></script>
    <script src="./js/run.js"></script>
    <script src="./js/check.js"></script>

    <script text="text/javascript">
      document.addEventListener("keydown", function (event) {
        console.log(event.keyCode);
        switch (event.keyCode) {
          case 37:
            if (bx > 0 && check(bx - 1)) {
              switch (box) {
                case 1:
                  if (checkDot(bx + 1, by) == false) return 0;
                  break;
                case 2:
                  if (checkDot(bx - 1, by) == false) return 0;
                  break;
                case 4:
                  if (checkDot(bx, by) == false) return 0;
                  break;
                case 5:
                  if (checkDot(bx, by) == false) return 0;
                  break;
                case 7:
                  if (checkDot(bx - 1, by) == false) return 0;
                  break;
                case 31:
                  if (checkDot(bx - 1, by) == false) return 0;
                  break;
                case 41:
                  if (
                    checkDot(bx - 1, by) == false ||
                    checkDot(bx - 1, by + 1) == false
                  )
                    return 0;
                  break;
                case 22:
                  if (
                    checkDot(bx, by) == false ||
                    checkDot(bx, by + 1) == false
                  )
                    return 0;
                  break;
                case 42:
                  if (
                    checkDot(bx - 1, by) == false ||
                    checkDot(bx - 1, by + 1) == false
                  )
                    return 0;
                  break;
                case 23:
                  if (
                    checkDot(bx, by) == false ||
                    checkDot(bx - 1, by + 1) == false
                  )
                    return 0;
                  break;
                case 24:
                  if (checkDot(bx - 1, by) == false) return 0;
                  break;
                case 25:
                  if (checkDot(bx, by) == false) return 0;
                  break;
                case 45:
                  if (
                    checkDot(bx - 1, by) == false ||
                    checkDot(bx - 1, by + 1) == false
                  )
                    return 0;
                  break;
                case 26:
                  if (
                    checkDot(bx - 1, by) == false ||
                    checkDot(bx - 1, by + 1) == false ||
                    checkDot(bx - 1, by + 2) == false
                  )
                    return 0;
                  break;
              }
              bx--;

              if (check(bx)) {
                ctx.clearRect(0, 0, 400, 800); /// xoá
                setcolor(); // khôi phục màu sắc đáy
                draw();
              }
            } else return 0;
            break;
          case 39:
            if (bx < 10 - a && check(bx + 1)) {
              switch (box) {
                case 1:
                  if (checkDot(bx + 3, by) == false) return 0;
                  break;
                case 2:
                  if (checkDot(bx + 1, by) == false) return 0;
                  break;
                case 3:
                  if (checkDot(bx + 2, by) == false) return 0;
                  break;
                case 5:
                  if (checkDot(bx + 2, by) == false) return 0;
                  break;
                case 7:
                  if (checkDot(bx + 2, by) == false) return 0;
                  break;
                case 21:
                  if (
                    checkDot(bx + 2, by) == false ||
                    checkDot(bx + 2, by + 1) == false
                  )
                    return 0;
                  break;
                case 41:
                  if (
                    checkDot(bx + 1, by) == false ||
                    checkDot(bx + 1, by + 1) == false
                  )
                    return 0;
                  break;
                case 22:
                  if (
                    checkDot(bx + 2, by) == false ||
                    checkDot(bx + 2, by + 1) == false
                  )
                    return 0;
                  break;
                case 32:
                  if (checkDot(bx + 3, by) == false) return 0;
                  break;
                case 23:
                  if (checkDot(bx + 2, by) == false) return 0;
                  break;
                case 24:
                  if (checkDot(bx + 1, by) == false) return 0;
                  break;
                case 25:
                  if (
                    checkDot(bx + 2, by) == false ||
                    checkDot(bx + 2, by + 1) == false
                  )
                    return 0;
                  break;
                case 45:
                  if (checkDot(bx + 1, by) == false) return 0;
                  break;
                case 26:
                  if (
                    checkDot(bx + 1, by) == false ||
                    checkDot(bx + 1, by + 1) == false ||
                    checkDot(bx + 1, by + 2) == false
                  )
                    return 0;
                  break;
              }
              bx += 1;
              if (check(bx)) {
                ctx.clearRect(0, 0, 400, 800); /// xoá
                setcolor(); // khôi phục màu sắc đáy
                draw();
              }
            } else return 0;
            break;
          case 38:
          case 40:
        }
      });
      setcolor();
      randomFirst();
      run();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
  </body>
</html>
